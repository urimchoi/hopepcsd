// Generated by CoffeeScript 1.7.1
(function() {
  var Carousel, Setup, expandBox, fadeInAnimation;

  Setup = {
    minimizeHeader: function() {
      if ($(window).scrollTop() > 0) {
        $('#header_main_logo').addClass('header_main_logo_mini');
        $('#header_main_menu').addClass('header_main_menu_mini');
        return $('#header_container').css({
          'border-bottom': '1px solid #eee'
        });
      } else {
        $('#header_main_logo').removeClass('header_main_logo_mini');
        $('#header_main_menu').removeClass('header_main_menu_mini');
        return $('#header_container').css({
          'border-bottom': '0px'
        });
      }
    },
    dropdownmenu: function() {
      return $('#header_main_menu li').hover(function() {
        return $(this).find('.dropdown-menu').stop().slideDown(200);
      }, function() {
        return $(this).find('.dropdown-menu').stop().slideUp(200);
      });
    },
    dropdownmenuMobile: function() {
      $('.mobile_nav_button').click(function() {
        $('.mobile_nav_wrapper').toggleClass('show');
        $('section, footer').toggleClass('bodyshow');
        return $('header').toggleClass('bodyshow');
      });
      return $('.dropdown-menu-mobile-button').click(function() {
        return $('.dropdown-menu-mobile').slideToggle(200);
      });
    }
  };

  Carousel = {
    carouselPage: 0,
    setup: function() {
      var carouselHeight;
      if ($(window).width() > 750) {
        carouselHeight = 0.39;
      } else {
        carouselHeight = 1.0;
      }
      $('.carousel-item').css({
        'width': $(window).width() + 'px',
        'height': $(window).width() * carouselHeight
      });
      $('#carousel-wrapper').css({
        'width': $(window).width() * $('.carousel-item').length
      });
      $('.carousel-bullet:first').addClass('active-bullet');
      $('.carousel-item-text').each(function() {
        return $(this).css({
          'left': $(window).width() / 2 + 'px',
          'margin-top': $(this).height() / -2,
          'margin-left': $(this).width() / -2
        });
      });
      return $('.carousel-bullet-wrapper').css({
        'width': $(window).width()
      });
    },
    swipeAction: function() {
      var backPage, nextPage, that;
      that = this;
      nextPage = function() {
        if (that.carouselPage < $('.carousel-item').length - 1) {
          that.carouselPage++;
          $('#carousel-wrapper').css({
            'margin-left': -that.carouselPage * $(window).width()
          });
          $('.carousel-bullet').removeClass('active-bullet');
          $('.carousel-bullet').eq(that.carouselPage).addClass('active-bullet');
          return console.log(that.carouselPage);
        } else {
          that.carouselPage = 0;
          $('#carousel-wrapper').css({
            'margin-left': -that.carouselPage * $(window).width()
          });
          $('.carousel-bullet').removeClass('active-bullet');
          return $('.carousel-bullet').eq(that.carouselPage).addClass('active-bullet');
        }
      };
      backPage = function() {
        if (that.carouselPage > 0) {
          that.carouselPage--;
          $('#carousel-wrapper').css({
            'margin-left': -that.carouselPage * $(window).width()
          });
          $('.carousel-bullet').removeClass('active-bullet');
          return $('.carousel-bullet').eq(that.carouselPage).addClass('active-bullet');
        } else {
          that.carouselPage = $('.carousel-item').length - 1;
          $('#carousel-wrapper').css({
            'margin-left': -that.carouselPage * $(window).width()
          });
          $('.carousel-bullet').removeClass('active-bullet');
          return $('.carousel-bullet').eq(that.carouselPage).addClass('active-bullet');
        }
      };
      $('.carousel-nav-right').click(function() {
        return nextPage();
      });
      $('.carousel-nav-left').click(function() {
        return backPage();
      });
      $('.carousel-item').swipe({
        swipeLeft: function(event, direction, distance, duration, fingerCount) {
          return nextPage();
        },
        swipeRight: function(event, direction, distance, duration, fingerCount) {
          return backPage();
        },
        threshold: 25
      });
      return $('#carousel-wrapper').css({
        'margin-left': -this.carouselPage * $(window).width()
      });
    }
  };

  expandBox = function(el, targetEl) {
    var el2;
    el2 = targetEl;
    el2.each(function() {
      return $(this).isShown = false;
    });
    return el.each(function() {
      return $(this).on('click', {
        num: $(this).attr('data-num')
      }, function(result) {
        if (el2.eq(result.data.num).attr('data-shown') === 'hidden') {
          el2.attr('data-shown', 'hidden');
          el.removeClass('filter-active');
          el2.hide();
          el2.eq(result.data.num).slideDown();
          el2.eq(result.data.num).attr('data-shown', 'shown');
          return $(this).addClass('filter-active');
        } else {
          el2.slideUp();
          el2.attr('data-shown', 'hidden');
          return el.removeClass('filter-active');
        }
      });
    });
  };

  fadeInAnimation = {
    init: function() {
      $('a[data-type="icon"]').each(function() {
        var animationStart, index, obj;
        obj = $(this);
        index = $(this).attr('data-index');
        animationStart = obj.offset().top + $(window).height() * 0.10;
        return $(window).scroll(function() {
          if ($(window).scrollTop() + $(window).height() > animationStart) {
            return obj.addClass('slide-down-' + index);
          }
        });
      });
      return $('.action-button-block a').hover(function() {
        return $('.action-button-block').not($(this).parent().parent()).css({
          'opacity': 0.5
        });
      }, function() {
        return $('.action-button-block').css({
          'opacity': 1
        });
      });
    }
  };

  $(document).ready(function() {
    Carousel.setup();
    Carousel.swipeAction();
    fadeInAnimation.init();
    expandBox($('#filter ul li'), $('.filter-selection-block'));
    Setup.dropdownmenu();
    Setup.dropdownmenuMobile();
    return $('.bulletin-quick-access-wrapper').on('click', '.bulletin-quick-access-close', function() {
      console.log(this);
      return $('.bulletin-quick-access-wrapper').remove();
    });
  });

  $(window).scroll(function() {
    return Setup.minimizeHeader();
  });

  $(window).resize(function() {
    Carousel.setup();
    return Carousel.swipeAction();
  });

}).call(this);
